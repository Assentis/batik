<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN"
"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">

<!-- ====================================================================== -->
<!-- Copyright (C) The Apache Software Foundation. All rights reserved.     -->
<!--                                                                        -->
<!-- This software is published under the terms of the Apache Software      -->
<!-- License version 1.1, a copy of which has been included with this       -->
<!-- distribution in  the LICENSE file.                                     -->
<!-- ====================================================================== -->

<!-- ====================================================================== -->
<!-- Filter extension attributes                                            -->
<!--                                                                        -->
<!-- @author                                                                -->
<!-- @version $Id$                                                       -->
<!-- ====================================================================== -->

<?xml-stylesheet type="text/css" href="extension.css" ?>

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="body" width="450" height="500" xml:space="preserve" 
     viewBox="0 0 450 500"
     xmlns:batik="http://xml.apache.org/batik/ext">

    <title>Filter Extension Attributes</title>
    <defs>
      <filter id="DropShadow" x="-20%" y="-20%" width="250%" height="250%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blurredAlpha"/>
        <feOffset in="blurredAlpha" dx="3" dy="3" result="offsetBlurredAlpha"/>
        <feFlood result="flooded" style="flood-color:rgb(0,0,0);flood-opacity:0.65"/>
        <feComposite in="flooded" operator="in" in2="offsetBlurredAlpha"
          result="coloredShadow"/>
        <feComposite in="SourceGraphic" in2="coloredShadow" operator="over"/>
      </filter>
      <filter id="DropShadowExtended"
        batik:dx="-12" batik:dy="-12" batik:dw="24" batik:dh="24">
        <feGaussianBlur in="SourceAlpha" stdDeviation="3" result="blurredAlpha"/>
        <feOffset in="blurredAlpha" dx="3" dy="3" result="offsetBlurredAlpha"/>
        <feFlood result="flooded" style="flood-color:rgb(0,0,0);flood-opacity:0.65"/>
        <feComposite in="flooded" operator="in" in2="offsetBlurredAlpha"
          result="coloredShadow"/>
        <feComposite in="SourceGraphic" in2="coloredShadow" operator="over"/>
      </filter>
    </defs>
  
    <!-- ============================================================= -->
    <!-- Test content                                                  -->
    <!-- ============================================================= -->
    <g id="testContent" class="legend" style="text-anchor:middle">
        <text x="220" y="40" class="title">
            Filter Extension Attributes
        </text>
        <g transform="translate(150 40)">
          <g style="fill:#DAA;stroke:black">
            <rect x="0" y="40" width="48" height="58" filter="url(#DropShadow)"/>
            <rect x="0" y="110" width="48" height="2" filter="url(#DropShadow)"/>
            <line x1="0" y1="130" x2="48" y2="130" filter="url(#DropShadow)"/>
            <line x1="20" y1="140" x2="20" y2="170" filter="url(#DropShadow)"/>
          </g>
          <text x="20" y="195" text-anchor="middle">Without</text>
        </g>
        <g transform="translate(250 40)">
          <g style="fill:#ADA;stroke:black;">
            <rect x="0" y="40" width="48" height="58" filter="url(#DropShadowExtended)"/>
            <rect x="0" y="110" width="48" height="2" filter="url(#DropShadowExtended)"/>
            <line x1="0" y1="130" x2="48" y2="130" filter="url(#DropShadowExtended)"/>
            <line x1="20" y1="140" x2="20" y2="170" filter="url(#DropShadowExtended)"/>
          </g>
          <text x="20" y="195" text-anchor="middle">With</text>
        </g>
    </g>

    <!-- ============================================================= -->
    <!-- Batik sample mark                                             -->
    <!-- ============================================================= -->
    <use xlink:href="../batikLogo.svg#Batik_Tag_Box" />
</svg>

